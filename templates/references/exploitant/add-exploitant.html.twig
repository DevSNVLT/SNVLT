{% extends 'template_base.html.twig' %}

{% block Title %}
    {% trans %}SNVLT{% endtrans %} - Ajout Exploitant
{% endblock %}

{% block titre_page %}
    <h2 class="text-dark font-weight-bold mb-2">
        <img src="{{ asset('assets/images/webapp/societe.png') }}" alt="attribution">  Ajouter / Editer un exploitant
    </h2>

{% endblock %}

 {% block menu %}
     {% include 'base/menu.html.twig' %}
 {% endblock %}

{% block page_content %}
    <link rel="stylesheet" href="{{ asset('assets/webapp/assets/vendors/choices.js/choices.min.css') }}" />
    <!-- JQUERY STEP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-steps/1.1.0/jquery.steps.min.js"></script>
    <link rel="stylesheet" href="{{ asset('assets/css/form.css') }}">

    {{ form_start(form, {'attr': {novalidate: 'novalidate'}}) }}
    {#<span class="text-danger font-weight-bold">Ajouter un nouvel exploitant</span>#}
    <div class="row p-3 bg-white m-1" style="background: #d5ffdd">
        <div class="col-md-3">
            <div class="alert-primary p-2 mb-3 w-100 fs-5 font-weight-bold text-center">Information de base</div>

            <div class="">{{ form_row(form.raison_sociale_exploitant) }}</div>
            <div class="">{{ form_row(form.numero_exploitant) }}</div>
            <div class="">{{ form_row(form.marteau_exploitant) }}</div>
            <div class="">{{ form_row(form.sigle) }}</div>
            <div class="">{{ form_row(form.tel_exploitant) }}</div>
        </div>
        <div class="col-md-3">
            <div class="alert-success p-2 mb-3 w-100 fs-5 font-weight-bold text-center">Contacts</div>

            <div class="">{{ form_row(form.ncc_exploitant) }}</div>
            <div class="">{{ form_row(form.rccim) }}</div>
            <div class="">{{ form_row(form.fax) }}</div>
            <div class="">{{ form_row(form.adresse_exploitant) }}</div>
            <div class="">{{ form_row(form.email_info) }}</div>
        </div>
        <div class="col-md-3">
            <div class="alert-warning p-2 mb-3 w-100 fs-5 font-weight-bold text-center">Constitution</div>

            <div class="">{{ form_row(form.ca) }}</div>
            <div class="">{{ form_row(form.capital) }}</div>
            <div class="">{{ form_row(form.datecreation) }}</div>
            <div class="">{{ form_row(form.nb_salarie) }}</div>
            <div class="">{{ form_row(form.forme_juridique) }}</div>
        </div>
        <div class="col-md-3">
            <div class="alert-secondary p-2 mb-3 w-100 fs-5 font-weight-bold text-center">Autres</div>

            <div class="">{{ form_row(form.gerant) }}</div>
            <div class="">{{ form_row(form.personne_ressource) }}</div>
            <div class="">{{ form_row(form.mobile_personne_ressource) }}</div>
            <div class="">{{ form_row(form.email_personne_ressource) }}</div>
            <div class="">{{ form_row(form.mobile_exploitant) }}</div>
        </div>
        <hr>



        <div class="col-md-6">
            <div class="">{{ form_row(form.code_cantonnement) }}</div>
        </div>
        <div class="col-md-6 row">
            <div class="col-md-6">
                <div class="">{{ form_row(form.export) }}</div>
            </div>
            <div class="col-md-6">
                <div class="">{{ form_row(form.code_exportateur) }}</div>
            </div>
        </div>


    </div>
    <br>
    <a href="{{ path('ref_exploitants') }}" class="btn btn-sm bg-danger p-2 me-2 ms-5 text-white" style="font-weight: lighter"><i class="mdi mdi-backspace" style="font-size: 18px;margin-right: 10px;"></i>{% trans %}Back to list{% endtrans %}</a>
    <button type="submit"  class="btn btn-sm bg-primary text-white p-2" style="margin-left: 10px;font-weight: lighter">
        <i class="mdi mdi-database-edit" style="font-size: 18px;margin-right: 10px"></i>Enregistrer
    </button>


    {{ form_end(form) }}


    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"></script>

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"></script>
    <script src="{{ asset('assets/webapp/assets/vendors/choices.js/choices.min.js') }}"></script>

    <script>
        $(function(){
            $("#wizard").steps({
                headerTag: "h4",
                bodyTag: "section",
                transitionEffect: "fade",
                enableAllSteps: true,
                transitionEffectSpeed: 500,
                onStepChanging: function (event, currentIndex, newIndex) {
                    if ( newIndex === 1 ) {
                        $('.steps ul').addClass('step-2');
                    } else {
                        $('.steps ul').removeClass('step-2');
                    }
                    if ( newIndex === 2 ) {
                        $('.steps ul').addClass('step-3');
                    } else {
                        $('.steps ul').removeClass('step-3');
                    }

                    if ( newIndex === 3 ) {
                        $('.steps ul').addClass('step-4');
                        $('.actions ul').addClass('step-last');
                    } else {
                        $('.steps ul').removeClass('step-4');
                        $('.actions ul').removeClass('step-last');
                    }
                    return true;
                },
                labels: {
                    finish: "Order again",
                    next: "Next",
                    previous: "Previous"
                }
            });
            // Custom Steps Jquery Steps
            $('.wizard > .steps li a').click(function(){
                $(this).parent().addClass('checked');
                $(this).parent().prevAll().addClass('checked');
                $(this).parent().nextAll().removeClass('checked');
            });
            // Custom Button Jquery Steps
            $('.forward').click(function(){
                $("#wizard").steps('next');
            })
            $('.backward').click(function(){
                $("#wizard").steps('previous');
            })
            // Checkbox
            $('.checkbox-circle label').click(function(){
                $('.checkbox-circle label').removeClass('active');
                $(this).addClass('active');
            })
        })

    </script>
{% endblock %}